<div class="container-fluid">
  <div class="row mt-5">
    <div class="col-2 col-md-2">
      <!-- ジャンル検索サイドバー  -->
      <%= render 'customers/items/genre_sidebar', genres: @genres %>
    </div>
    <div class="col-9 col-md-9">
      <!--params[:id]が空(nil)じゃない＝idを持っているとき、ジャンル別検索結果の表示-->
      <% if not params[:id].nil? %>
      <h3 class="p-3 mb-2 w-50 text-center" style="color: #bc8f8f; background: #8f6552; border-left: solid 5px #6c3524; border-bottom: solid 3px #7b5544;"><strong><%= @genre.genre_name %>一覧</strong>（全<%= @all_items.count %>件）</h3>
      <!--urlをそのままベタ打ちする（/genres/index）＝idがnilとき、全商品一覧画面表示-->
      <% else %>
      <h3 class="p-3 mb-2 w-50 text-center" style="color: #bc8f8f; background: #8f6552; border-left: solid 5px #6c3524; border-bottom: solid 3px #7b5544;"><strong>商品一覧</strong>（全<%= @all_items.count %>件）</h3>
      <% end %>
      <% @items.each do |item| %>
        <div class="item-box">
          <table class="table table-borderless">
            <tr>
              <th>
                <%= link_to item_path(item) do %>
                  <%= attachment_image_tag item, :item_image, :fill, 210, 150, fallback: "no_image.jpg" %>
                <% end %>
              </th>
            </tr>
            <tr>
              <th><%= link_to item.item_name.truncate(15), item_path(item), class:"text-secondary" %></th>
            </tr>
            <tr>
              <th>¥<%= ((item.non_taxed_price * 1.1).round).to_s(:delimited) %></th>
            </tr>
          </table>
        </div>
      <% end %>
    </div>
    <div class="col-6 offset-3 text-center text-dark" ><%= paginate @items %></div>
  </div>
</div>